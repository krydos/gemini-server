#!/bin/bash

function up {
    zig build run -- certificate.crt $(pwd)/test_data/gemini-root
}

function watch {
    zig build --watch
}

function debug {
    lldb zig-out/bin/gemini-server-zig -- certificate.crt $(pwd)/test_data/gemini-root
}

function test {
    zig build test
}

function thirdparty-test-suite {
    ~/ThirdParty/gemini-diagnostics/gemini-diagnostics
}

function default {
    echo "$0 <task> <args>"
    echo "Tasks:"
    compgen -A function | cat -n
}

TIMEFORMAT="Task completed in %3lR"
time ${@:-default}
